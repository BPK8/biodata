<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login & Biodata</title>

<style>
* { box-sizing: border-box; }

body{
  font-family: 'Poppins', sans-serif;
  height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background: linear-gradient(135deg,#6a11cb,#ff5f9e,#ff9a8b);
  background-size: 400% 400%;
  animation: bg 10s infinite alternate;
  color:#fff;
}

@keyframes bg{
  from{background-position:0% 50%}
  to{background-position:100% 50%}
}

.card{
  width:360px;
  padding:30px;
  border-radius:22px;
  background:rgba(255,255,255,.15);
  backdrop-filter: blur(18px);
  box-shadow:0 20px 50px rgba(0,0,0,.3);
  animation: pop .5s ease;
}

@keyframes pop{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

h2{
  text-align:center;
  margin-bottom:20px;
}

input{
  width:100%;
  padding:12px 14px;
  border:none;
  border-radius:14px;
  margin-top:12px;
  font-size:15px;
  background:rgba(255,255,255,.25);
  color:#fff;
  outline:none;
}

input::placeholder{color:#eee}

.pw-wrapper{
  position:relative;
  margin-top:12px;
}

.pw-wrapper input{
  margin-top:0;
  padding-right:45px;
}

.eye{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  opacity:.8;
}

button{
  width:100%;
  padding:12px;
  margin-top:18px;
  border:none;
  border-radius:14px;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  background:linear-gradient(135deg,#ffe259,#ffa751);
  color:#5a2d0c;
  transition:.25s;
}

button:hover{
  transform:scale(1.05);
}

.link{
  text-align:center;
  margin-top:12px;
  cursor:pointer;
  text-decoration:underline;
}

.error{
  display:none;
  text-align:center;
  margin-top:10px;
  color:#ffd6d6;
}

/* BIODATA */
#biodataPage{
  display:none;
  width:420px;
}

.foto{
  width:150px;
  height:150px;
  border-radius:50%;
  object-fit:cover;
  display:block;
  margin:0 auto 20px;
  border:5px solid rgba(255,255,255,.4);
  box-shadow:0 10px 25px rgba(0,0,0,.3);
}

.biodata p{
  background:rgba(255,255,255,.22);
  padding:14px;
  border-radius:14px;
  margin:10px 0;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="card" id="loginPage">
  <h2>Login</h2>
  <input id="loginID" placeholder="Username">

  <div class="pw-wrapper">
    <input id="loginPW" type="password" placeholder="Password">
    <span class="eye" onclick="toggle('loginPW',this)">üëÅÔ∏è</span>
  </div>

  <button onclick="login()">Masuk</button>
  <p class="error" id="loginError">Username / Password salah</p>
  <p class="link" onclick="showRegister()">Belum punya akun?</p>
</div>

<!-- REGISTER -->
<div class="card" id="registerPage" style="display:none">
  <h2>Daftar</h2>

  <input id="regID" placeholder="Username">
  <div class="pw-wrapper">
    <input id="regPW" type="password" placeholder="Password">
    <span class="eye" onclick="toggle('regPW',this)">üëÅÔ∏è</span>
  </div>

  <input id="regNama" placeholder="Nama">
  <input id="regNIM" placeholder="NIM">
  <input id="regJurusan" placeholder="Jurusan">
  <input id="regKonsen" placeholder="Konsentrasi">
  <input id="regFoto" type="file" accept="image/*">

  <button onclick="register()">Daftar</button>
  <p class="error" id="regError">Lengkapi semua data</p>
  <p class="link" onclick="showLogin()">Sudah punya akun?</p>
</div>

<!-- BIODATA -->
<div class="card" id="biodataPage">
  <img id="bioFoto" class="foto">
  <div class="biodata">
    <p id="bioNama"></p>
    <p id="bioNIM"></p>
    <p id="bioJurusan"></p>
    <p id="bioKonsen"></p>
  </div>
  <button onclick="logout()">Logout</button>
</div>

<script>
const loginPage = document.getElementById("loginPage");
const registerPage = document.getElementById("registerPage");
const biodataPage = document.getElementById("biodataPage");

function showRegister(){
  loginPage.style.display="none";
  registerPage.style.display="block";
}

function showLogin(){
  registerPage.style.display="none";
  biodataPage.style.display="none";
  loginPage.style.display="block";
}

function register(){
  const data = {
    id: regID.value,
    pw: regPW.value,
    nama: regNama.value,
    nim: regNIM.value,
    jurusan: regJurusan.value,
    konsen: regKonsen.value
  };

  const foto = regFoto.files[0];
  if(Object.values(data).some(v=>!v) || !foto){
    regError.style.display="block";
    return;
  }

  const r = new FileReader();
  r.onload = ()=>{
    data.foto = r.result;
    localStorage.setItem("userdata",JSON.stringify(data));
    showLogin();
  }
  r.readAsDataURL(foto);
}

function login(){
  const stored = JSON.parse(localStorage.getItem("userdata"));
  if(!stored || loginID.value!==stored.id || loginPW.value!==stored.pw){
    loginError.style.display="block";
    return;
  }

  loginPage.style.display="none";
  biodataPage.style.display="block";

  bioFoto.src = stored.foto;
  bioNama.innerText = "Nama: " + stored.nama;
  bioNIM.innerText = "NIM: " + stored.nim;
  bioJurusan.innerText = "Jurusan: " + stored.jurusan;
  bioKonsen.innerText = "Konsentrasi: " + stored.konsen;
}

function logout(){
  loginID.value="";
  loginPW.value="";
  biodataPage.style.display="none";
  loginPage.style.display="block";
}

function toggle(id,el){
  const i=document.getElementById(id);
  i.type = i.type==="password"?"text":"password";
  el.textContent = i.type==="password"?"üëÅÔ∏è":"üôà";
}
</script>

</body>
</html>
